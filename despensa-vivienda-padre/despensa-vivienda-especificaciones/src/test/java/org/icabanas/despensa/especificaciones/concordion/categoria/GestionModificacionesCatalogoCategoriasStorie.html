<?xml version="1.0" encoding="ISO-8859-1"?>

<html xmlns:concordion="http://www.concordion.org/2007/concordion">

    <head>
        <link href="../concordion.css" rel="stylesheet" type="text/css" />
    </head>

    <body>

        <h1>Gestión de modificaciones del catálogo de categorías</h1>

        <p>
        	Como administrador del sistema, quiero gestionar las modificaciones de las entidades Categoria.                        
        </p>

                
        <div class="example">
            <h3>Modificación de una categoría.</h3>
            <p>            	
                Dado un usuario autenticado como adminstrador del sistema <br/> 
                y la siguiente categoría dada de alta en el sistema <br/>
                <table concordion:execute="creaCategoria(#nombreCategoria)">
			        <tr><th concordion:set="#nombreCategoria">Categoría</th></tr>
			        <tr><td>Lacteos</td></tr>
			    </table>                
                cuando modifica el nombre de la categoría a <b concordion:set="#nombre">Lácteos</b>, 
                entonces el sistema modifica la categoría
                <table concordion:verifyRows="#resultado.categoria.nombre : modifica(#nombre)">
			        <tr><th concordion:assertEquals="#resultado.categoria.nombre">Categoría</th></tr>
			        <tr><td>Lácteos</td></tr>
			    </table>
			    que <span concordion:assertTrue="#resultado">queda actualizada</span> en el repositorio de datos.
            </p>            
        </div>                       
        
        <div class="example">
            <h3>Modificación de una categoría con nombre vacío.</h3>
            <p>            	
                Dado un usuario autenticado como adminstrador del sistema <br/> 
                y la siguiente categoría dada de alta en el sistema <br/>
                <table concordion:execute="inicializaTest(#nombreCategoria)">
			        <tr><th concordion:set="#nombreCategoria">Categoría</th></tr>
			        <tr><td>Lacteos</td></tr>
			    </table>                
                cuando modifica el nombre de la categoría a <b>vacío</b> <span concordion:set="#nombre"></span>, 
                entonces el sistema <span concordion:execute="#resultado = modifica(#nombre)">genera</span> una <span concordion:assertFalse="#resultado">excepción de validación</span> y <span concordion:assertFalse="#resultado">no modifica la entidad</span> en el repositorio de datos.
            </p>            
        </div>         
    </body>
</html>

